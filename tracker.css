:root {
    --background-color: #24292e;
    --text-color: #ffffff;
    --ui-background: rgba(36, 41, 46, 0.85);
    --ui-border: rgba(255, 255, 255, 0.1);
    --accent-color: #2188ff;
    --text-muted: #9ba8b8;
}

body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
    background-color: var(--background-color);
}

#map-container {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
}

/* --- Floating UI Elements --- */
.floating-ui { position: absolute; z-index: 1000; display: flex; justify-content: center; }
.top-center { top: 20px; left: 50%; transform: translateX(-50%); }
.bottom-center { bottom: 30px; left: 50%; transform: translateX(-50%); }
.ui-button { background: var(--ui-background); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); color: var(--text-color); border: 1px solid var(--ui-border); border-radius: 50px; padding: 10px 20px; font-size: 14px; font-weight: 500; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: background-color 0.2s; }
.ui-button:hover { background: rgba(50, 55, 60, 0.85); }
.view-switcher { display: flex; background: var(--ui-background); border-radius: 50px; border: 1px solid var(--ui-border); }
.view-switcher .ui-button { border: none; box-shadow: none; background: transparent; }
.view-switcher .ui-button.active { background: var(--accent-color); color: white; }

/* --- Slide-in List Panel --- */
.list-view-panel { position: absolute; top: 0; right: 0; width: 100%; max-width: 400px; height: 100%; background: #1d2125; z-index: 1001; transform: translateX(100%); transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); display: flex; flex-direction: column; }
.list-view-panel.is-visible { transform: translateX(0); }
.list-header { padding: 20px; border-bottom: 1px solid var(--ui-border); }
.list-header h3 { margin: 0 0 15px 0; }
#species-filter { width: 100%; padding: 8px; background-color: var(--background-color); color: var(--text-color); border: 1px solid var(--ui-border); border-radius: 6px; }
.shark-list { list-style: none; padding: 0; margin: 0; overflow-y: auto; flex-grow: 1; }

/* --- ENHANCED LIST ITEM STYLES --- */
.shark-list-item { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid var(--ui-border); cursor: pointer; transition: background-color 0.2s, transform 0.2s ease-out, box-shadow 0.2s ease-out; }
.shark-list-item:hover { background-color: #24292e; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
.shark-list-item-icon { 
    width: 40px; 
    height: 40px; 
    margin-right: 15px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    background-color: var(--background-color); 
    border-radius: 50%; 
    font-weight: 700; 
    font-size: 18px; 
    color: #ffffff; /* <<< THIS IS THE ONLY CHANGE */
}
.shark-list-item h4 { margin: 0 0 4px; font-size: 16px; font-weight: 500; color: var(--text-color); transition: color 0.2s; }
.shark-list-item:hover h4 { color: var(--accent-color); }
.shark-list-item p { margin: 0; font-size: 13px; color: var(--text-muted); }

/* --- Marker & Cluster Styling --- */
.marker-cluster { background-clip: padding-box; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: 700; color: #333; background: linear-gradient(to top, #f0f0f0, #ffffff); box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4); border: 2px solid #fff; }
.marker-cluster:hover { transform: scale(1.1); }
.marker-cluster div { width: 100%; height: 100%; line-height: 36px; text-align: center; font-size: 14px; }
.marker-cluster-small { width: 40px; height: 40px; }
.marker-cluster-medium { width: 50px; height: 50px; }
.marker-cluster-medium div { line-height: 46px; font-size: 16px; }
.marker-cluster-large { width: 60px; height: 60px; }
.marker-cluster-large div { line-height: 56px; font-size: 18px; }
.animal-marker-icon { display: flex; justify-content: center; align-items: center; background: #ffffff; border-radius: 50%; width: 40px; height: 40px; box-shadow: 0 2px 8px rgba(0,0,0,0.4); border: 2px solid var(--accent-color); font-size: 18px; font-weight: 700; color: #24292e; }
.animal-marker-icon.whale-icon { border-color: #ff4757; } /* Different color for whale */


/* --- NEW CUSTOM POPUP STYLES --- */
.choice-popup .leaflet-popup-content-wrapper { background: var(--ui-background); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); color: var(--text-color); border: 1px solid var(--ui-border); border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.4); }
.choice-popup .leaflet-popup-content { padding: 20px; margin: 0; font-size: 16px; width: 280px !important; }
.popup-title { font-size: 1.4rem; font-weight: 700; color: var(--text-color); margin: 0 0 15px 0; text-align: center; }
/* Location Styles */
.popup-location { text-align: center; font-size: 0.9rem; color: var(--text-muted); margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--ui-border); }
.popup-location span { display: block; }
.popup-actions { display: flex; flex-direction: column; gap: 10px; }
.popup-button { display: flex; align-items: center; gap: 12px; background-color: rgba(255, 255, 255, 0.05); border: 1px solid var(--ui-border); border-radius: 8px; padding: 12px; color: var(--text-muted); text-decoration: none; transition: all 0.2s ease; }
.popup-button:hover { background-color: var(--accent-color); color: #fff; border-color: var(--accent-color); }
.popup-button i { font-size: 1.2rem; width: 20px; text-align: center; }